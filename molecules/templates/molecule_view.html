{% extends "template.html" %}
{% load static %}
{% load custom_filters %}

{% block title %}ChemVisualizer | Головна сторінка{% endblock %}
{% block head %}
<link rel="stylesheet" href="{% static 'molecules/css/desktop/view_molecule.css' %}">
<link rel="stylesheet" href="{% static 'molecules/css/mobile/view_molecule.css' %}">

<script src="https://3Dmol.csb.pitt.edu/build/3Dmol-min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/STLLoader.js"></script>
{% endblock %}

{% block body %}
<div class="divider">
    <span>{{name}}</span>
</div>

<div class="content">
    <button id="openFullscreenBtn" onclick="openFullscreen()">Відкрити на весь екран</button>
    <button style="z-index: 0;" id="downloadBtn">Завантажити 3D модель</button>
</div>
<div class="viewer-container">
    <div id="viewer">
        <span style="width: 100%; position: absolute; top: 10px; z-index: 1; color: black; font-size: 20px; text-align: center;">
            ChemVisualizer| {{name}}
        </span>
    </div>
</div>

<div class="data_about_molecule">
    <h1>Дані про молекулу <b>{{ name }}</b></h1>
    {% if aids and sids %}
        <span>IUPAC-назва: {{ iupac_name }}</span>
        <span>Молекулярна маса: {{ molecular_weight }}</span>
        <span>Молекулярна формула: {{ molecular_formula|format_formula }}</span>
        <span>Точна маса: {{ exact_mass }}</span>
        <span>AIDs: {{ aids }}</span>
        <span>SIDs: {{ sids }}</span>
        {% else %}
        <span>IUPAC-назва: {{ iupac_name }}</span>
        <span>Молекулярна маса: {{ molecular_weight }}</span>
        <span>Молекулярна формула: {{ molecular_formula|format_formula }}</span>
        <span>Точна маса: {{ exact_mass }}</span>
    {% endif %}
    <span class="add_info"><b>Дані взято з <a href="https://pubchem.ncbi.nlm.nih.gov/">PubChem</a></b></span>
</div>

<span id="molecule" style='display: none;'>{{ mol_block }}</span>
<span id="molecule_name" style='display: none;'>{{ name }}</span>

<script src="{% static 'molecules/js/molecule_view.js' %}"></script>
{% endblock %}